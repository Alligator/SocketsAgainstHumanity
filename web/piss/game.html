<html>
  <head>
    <link rel="stylesheet" href="static/reset.css" />
    <link rel="stylesheet" href="static/style.css" />
    <script src="/static/jquery-1.7.2.min.js"></script>
    <script src="/static/jquery-ui-1.8.20.custom.min.js"></script>
    <script src="/static/settings.js"></script>
    <script src="/static/game.js"></script>
    <script src="/static/color.js"></script>
    <script src="/static/socket.io.js"></script>
    <script>
      WEB_SOCKET_SWF_LOCATION = 'http://cdn.socket.io/stable/WebSocketMain.swf';
    </script>
    <script>
      $(function() {
        $('#login-form').submit(function() {
          game.RegisterName($('#name').val());
          return false;
        });

        $('#game-form').submit(function() {
          var name = $('#game-name').val();
          var maxplayers = $('#game-maxplayers').val();
          var password = $('#game-password').val();
          if (password) {
            game.RegisterGame(name, maxplayers, password);
          } else {
            game.RegisterGame(name, maxplayers);
          }
          return false;
        });

        $('#password-form').submit(function () {
          var name = $(this).data('game-name');
          game.JoinAttempt(name, $('#pass').val());
          return false;
        });

        $('#chat-input').submit(function () {
          chat.SendChatMessage($('#chat-text').val());
          $('#chat-text').val('');
          return false;
        });

        // for testing
        function logarray(a) {
          for (var i = 0; i < a.length; i++) {
            console.log($(a[i]).html());
          }
          console.log('---');
        };
      });
    </script>
  </head>
  <body>
    <div class="content">
      <h1>Socially Acceptable Racism</h1>
      <div id="error">
      </div>

      <div id="login" class="card card-form">
        <form id="login-form">
          <label for="name">Enter a nickname</label><br />
          <input id="name" type="text" />
          <input id="name-confirm" type="submit" />
        </form>
        <div id="register-output"></div>
      </div>

      <div id="game-form-wrapper" class="card card-form invert">
        <form id="game-form">
          <label for="game-name">Game name</label><br />
          <input id="game-name" type="text" /><br />
          <label for="game-maxplayers">Max players</label><br />
          <select id="game-maxplayers">
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
          </select>
          <br />
          <label for="game-password">Password</label><br />
          <input id="game-password" type="password" />
          <input type="submit" value="Create game"><img src="/static/arrow.png" /></input>
        </form>
        <div id="register-output"></div>
      </div>

      <div id="password" class="card card-form invert">
        <form id="password-form">
          <label for="pass">Enter password</label><br />
          <input id="pass" type="text" /><br />
          <input type="submit" value="Join"><img src="/static/arrow.png" /></input>
        </form>
        <div id="password-output"></div>
      </div>

      <div id="lobby"></div>

      <!-- fake game -->
      <div id="game">
        <div class="right">
          <div id="player-list" class="players">
       <!--     <div class="player czar">
              <span class="player-name">lilpp</span>
              <span class="player-score">69</span> -->

          </div>
          <div id="chat">
            <h2>Chat</h2>
            <div id="chat-lines" class="chat-lines">
              <!-- <div class="chat-line"><span class="chat-name">alligator</span><span class="chat-message">Jack Off And Cum</span></div> -->
            </div>
            <form id="chat-input">
              <input id="chat-text" type="text" />
              <input style="display:none" id="chat-submit" type="submit" />
            </form>
          </div>
        </div>
        <div class="toprow">
          <div id="black-card" class="black-cards"></div>
          <div id="my-cards"></div>
        </div>
        <div id="played-cards" class="white-cards">
        </div>

        <div class="hand">
          <div id="hand-cards">
            <!-- <div class="card">weed</div> -->
          </div>
        </div>
      </div>
    </div>
  </body>

</html>
